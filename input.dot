digraph GossipGraph {
splines=false
rankdir=BT
outputorder=nodesfirst
subgraph cluster_alice {
style=invis
Alice -> a_0_0 [style=invis]
a_0_0 -> a_0_1
a_0_1 -> a_1 [minlen=2]
a_1 -> a_2 [minlen=3]
a_2 -> a_3
a_3 -> a_4
a_4 -> a_5
a_5 -> a_6
a_6 -> a_7 [minlen=2]
a_7 -> a_8
a_8 -> a_9
a_9 -> a_10 [minlen=2]
a_10 -> a_11 [minlen=2]
a_11 -> a_12 [minlen=2]
a_12 -> a_13
a_13 -> a_14 [minlen=2]
a_14 -> a_15 [minlen=2]
a_15 -> a_16 [minlen=2]
}

subgraph cluster_bob {
style=invis
Bob -> b_0_0 [style=invis]
b_0_0 -> b_0_1
b_0_1 -> b_1
b_1 -> b_2
b_2 -> b_3 [minlen=2]
b_3 -> b_4 [minlen=3]
b_4 -> b_5 [minlen=3]
b_5 -> b_6
b_6 -> b_7
b_7 -> b_8
b_8 -> b_9 [minlen=3]
b_9 -> b_10 [minlen=2]
b_10 -> b_11 [minlen=7]
b_11 -> b_12
b_12 -> b_13 [minlen=2]
}
subgraph cluster_carol {
style=invis
Carol -> c_0_0 [style=invis]
c_0_0 -> c_0_1
c_0_1 -> c_1 [minlen=2]
c_1 -> c_2
c_2 -> c_3 [minlen=2]
c_3 -> c_4 [minlen=3]
c_4 -> c_5 [minlen=13]
c_5 -> c_6 [minlen=4]
c_6 -> c_7
c_7 -> c_8
}
subgraph cluster_dave {
style=invis
Dave -> d_0_0 [style=invis]
d_0_0 -> d_0_1
d_0_1 -> d_1
d_1 -> d_2 [minlen=2]
d_2 -> d_3
d_3 -> d_4 [minlen=3]
d_4 -> d_5
d_5 -> d_6
d_6 -> d_7 [minlen=2]
d_7 -> d_8 [minlen=3]
d_8 -> d_9
d_9 -> d_10
d_10 -> d_11
d_11 -> d_12 [minlen=6]
d_12 -> d_13
d_13 -> d_14 [minlen=3]
d_14 -> d_15
}
{
rank=same
Alice -> Bob -> Carol -> Dave [style=invis]
Alice, Bob, Carol, Dave [style=filled, color=white]
}

edge [constraint=false]

a_0_0, b_0_0, c_0_0, d_0_1 [style=filled, color=brown]
d_0_0, a_0_1, b_0_1, c_0_1 [style=filled, color=pink]

a_1, a_3, a_5, a_8, a_12, a_14, a_15, a_16, b_3, b_4, b_5, b_7, b_9, b_10, b_13, c_1, c_4, c_6, d_2, d_5, d_7, d_8, d_10, d_11, d_14 [style=bold, color=palegreen]

a_2, b_3, c_3, d_3 [style=filled, fillcolor=beige, shape=rectangle]
a_3, a_4, a_6, a_7, a_11, a_14, b_5, b_7, b_9, b_10, c_4, d_4, d_6, d_8, d_12 [style=filled, fillcolor=white, shape=rectangle]

a_15, b_11, c_5, d_14 [shape=rectangle, style=filled, fillcolor=brown]

a_2 [label="a_2\nRound 0, Step 0\nEst: [a: {t}, b {t}, c {t}, d {t}]\nBin: [a: {}, b: {}, c: {}, d: {}]\nAux: [a: {}, b: {}, c: {}, d: {}]\nDec: [a: {}, b: {}, c: {}, d: {}]"]
a_3 [label="a_3\nRound 0, Step 0\nEst: [a: {t}, b {t}, c {t}, d {t}]\nBin: [a: {t}, b: {}, c: {t}, d: {}]\nAux: [a: {t}, b: {}, c: {t}, d: {}]\nDec: [a: {}, b: {}, c: {}, d: {}]"]
a_4 [label="a_4\nRound 0, Step 0\nEst: [a: {t}, b {t, f}, c {t}, d {t}]\nBin: [a: {t}, b: {}, c: {t}, d: {t}]\nAux: [a: {t}, b: {}, c: {t}, d: {t}]\nDec: [a: {}, b: {}, c: {}, d: {}]"]
a_6 [label="a_6\nRound 0, Step 0\nEst: [a: {t}, b {t, f}, c {t}, d {t}]\nBin: [a: {t}, b: {f}, c: {t}, d: {t}]\nAux: [a: {t}, b: {f}, c: {t}, d: {t}]\nDec: [a: {}, b: {}, c: {}, d: {}]"]
a_7 [label="a_7\nRound 0, Step 0\nEst: [a: {t}, b {t, f}, c {t}, d {t}]\nBin: [a: {t}, b: {f, t}, c: {t}, d: {t}]\nAux: [a: {t}, b: {f}, c: {t}, d: {t}]\nDec: [a: {t}, b: {}, c: {t}, d: {t}]\n\nRound 0, Step 1\nEst: [b: {t}]\nBin: [b: {}]\nAux: [b: {}]\nDec: [b: {}]"]
a_11 [label="a_11\nRound 0, Step 0\nDec: [a: {t}, b: {}, c: {t}, d: {t}]\n\nRound 0, Step 1\nEst: [b: {t}]\nAux: [b: {t}]\nDec: [b: {}]"]
a_14 [label="a_14\nRound 0, Step 0\nDec: [a: {t}, b: {}, c: {t}, d: {t}]\n\nRound 0, Step 1\nDec: [b: {}]\n\nRound 0, Step 2\nEst: [b: {t}]\nAux: [b: {}]\nDec: [b: {}]"]
a_15 [label="a_15\nRound 0, Step 0\nDec: [a: {t}, b: {}, c: {t}, d: {t}]\n\nRound 0, Step 1\nDec: [b: {}]\n\nRound 0, Step 2\nEst: [b: {t}]\nBin: [b: {t}]\nAux: [b: {t}]\nDec: [b: {}]\n\nRound 1, Step 0\nEst: [b: {t}]\nBin: [b: {t}]\nAux: [b: {t}]\nDec: [b: {t}]"]

b_3 [label="b_3\nRound 0, Step 0\nEst: [a: {t}, b {f}, c {t}, d {t}]\nBin: [a: {}, b: {}, c: {}, d: {}]\nAux: [a: {}, b: {}, c: {}, d: {}]\nDec: [a: {}, b: {}, c: {}, d: {}]\n\nBob strongly sees a_0_0, c_0_0 and\nd_0_0, which all carry an event\nthat isn't in Bob's datachain.\n\nIt's a supermajority of nodes,\nwhich starts the consensus process.\n\nBob's estimates represent the votes\nhe's seen at this stage."]
b_5 [label="b_5\nRound 0, Step 0\nEst: [a: {t}, b {f, t}, c {t}, d {t}]\nBin: [a: {t}, b: {t, f}, c: {t}, d: {t}]\nAux: [a: {t}, b: {t}, c: {t}, d: {t}]\nDec: [a: {}, b: {}, c: {}, d: {}]\n\nBob can see >=N/3 estimates for b true.\nThis adds true to B's estimates of b.\n\nBob can see >= 2N/3 estimates\nfor a: true, b: true, b: false, c: true and d: true.\nHis binary values represent this fact.\n\nBecause he learnt of binary values true and\nfalse for b at the same time,\nhe picks true as his auxililary value\nas an arbitrary tie-breaker."]
b_7 [label="b_7\nRound 0, Step 0\nEst: [a: {t}, b {f, t}, c {t}, d {t}]\nBin: [a: {t}, b: {t, f}, c: {t}, d: {t}]\nAux: [a: {t}, b: {t}, c: {t}, d: {t}]\nDec: [a: {t}, b: {}, c: {t}, d: {t}]\n\nRound 0, Step 1\nEst: [b: {t}]\nAux: [b: {}]\nDec: [b: {}]\n\nBob can see >= 2N/3 auxiliary values\nthat belong in his binary_values\nfor a, b, c and d.\nHe draws four concrete coins.\n\nThis is step 0, so the concrete coins\npredictably return \"true\".\nFor a, b and c, these agree with >= 2N/3\n auxiliary values that Bob sees.\nBob decides a: true, c: true and d: true\n\nFor b, Bob can not see a supermajority\nof auxiliary values in agreement.\nAs this is step 0, the estimate for b\ngets updated to true.\nThe next step of this round starts."]
b_9 [label="b_9\nRound 0, Step 0\nDec: [a: {t}, b: {}, c: {t}, d: {t}]\n\nRound 0, Step 1\nEst: [b: {t}]\nBin: [b: {t}]\nAux: [b: {t}]\nDec: [b: {}]\nBob can see >= 2N/3 estimates for b true\nHis binary value and his auxiliary\n value represent this fact."]
b_10 [label="b_10\nRound 0, Step 0\nDec: [a: {t}, b: {}, c: {t}, d: {t}]\n\nRound 0, Step 1\nDec: [b: {}]\n\nRound 0, Step 2\nEst: [b: {t}]\nBin: [b: {}]\nAux: [b: {}]\nDec: [b: {}]\n\nBob can see >= 2N/3 auxiliary values\nfor b: true at round 0, step 1.\nHe draws a concrete coin.\n\nThis is step 1, so the concrete coin\npredictably returns \"false\".\nAs he can see a supermajority of votes\n for b true, he keeps his estimate\nof b true.\nThe next step of this round starts."]
b_11 [label="b_11\nRound 0, Step 0\nDec: [a: {t}, b: {}, c: {t}, d: {t}]\n\nRound 0, Step 1\nDec: [b: {}]\n\nRound 0, Step 2\nEst: [b: {t}]\nBin: [b: {t}]\nAux: [b: {t}]\nDec: [b: {}]\n\nRound 1, Step 0\nEst: [b: {t}]\nBin: [b: {t}]\nAux: [b: {t}]\nDec: [b: {t}]\n\nBob can see >= 2N/3 auxiliary values\nfor b: true at round 0, step 2.\nAs he can see a supermajority of votes \nfor b true, he keeps his estimate\nand moves on to the next round.\n\nAt round 1, he can now see >= 2N/3\nestimates for b: true.\nHe accepts it in his binary values.\n\nHe can also see >= 2N/3 auxiliary\nvalues for b: true.\nHe draws a common coin.\nSince this is round 0, the coin\npredictably returns \"true\".\nSince this agree with his estimate,\nBob decides b: true.\n\nBob now has all the info he needs\nto decide of the next network event.\n\nHe considers A, B, C and D's votes.\nBrown has a majority, so brown is chosen."]

c_3 [label="c_3\nRound 0, Step 0\nEst: [a: {t}, b {f}, c {t}, d {t}]\nBin: [a: {}, b: {}, c: {}, d: {}]\nAux: [a: {}, b: {}, c: {}, d: {}]\nDec: [a: {}, b: {}, c: {}, d: {}]"]
c_4 [label="c_4\nRound 0, Step 0\nEst: [a: {t}, b {f}, c {t}, d {t}]\nBin: [a: {t}, b: {}, c: {t}, d: {}]\nAux: [a: {t}, b: {}, c: {t}, d: {}]\nDec: [a: {}, b: {}, c: {}, d: {}]"]
c_5 [label="c_5\nRound 0, Step 0\nEst: [a: {t}, b {f, t}, c {t}, d {t}]\nBin: [a: {t}, b: {t, f}, c: {t}, d: {t}]\nAux: [a: {t}, b: {t}, c: {t}, d: {t}]\nDec: [a: {t}, b: {t}, c: {t}, d: {t}]"]

d_3 [label="d_3\nRound 0, Step 0\nEst: [a: {t}, b {t}, c {t}, d {f}]\nBin: [a: {}, b: {}, c: {}, d: {}]\nAux: [a: {}, b: {}, c: {}, d: {}]\nDec: [a: {}, b: {}, c: {}, d: {}]"]
d_4 [label="d_4\nRound 0, Step 0\nEst: [a: {t}, b {t, f}, c {t}, d {f}]\nBin: [a: {t}, b: {f}, c: {t}, d: {}]\nAux: [a: {t}, b: {f}, c: {t}, d: {}]\nDec: [a: {}, b: {}, c: {}, d: {}]"]
d_6 [label="d_6\nRound 0, Step 0\nEst: [a: {t}, b {t, f}, c {t}, d {f}]\nBin: [a: {t}, b: {f, t}, c: {t}, d: {t}]\nAux: [a: {t}, b: {f}, c: {t}, d: {t}]\nDec: [a: {}, b: {}, c: {}, d: {}]"]
d_8 [label="d_8\nRound 0, Step 0\nEst: [a: {t}, b {t, f}, c {t}, d {f}]\nBin: [a: {t}, b: {f, t}, c: {t}, d: {t}]\nAux: [a: {t}, b: {f}, c: {t}, d: {t}]\nDec: [a: {t}, b: {}, c: {t}, d: {t}]\n\nRound 0, Step 1\nEst: [b: {t}]\nBin: [b: {t}]\nAux: [b: {t}]\nDec: [b: {}]"]
d_12 [label="d_12\nRound 0, Step 0\nDec: [a: {t}, b: {}, c: {t}, d: {t}]\n\nRound 0, Step 1\nDec: [b: {}]\n\nRound 0, Step 2\nEst: [b: {t}]\nBin: [b: {t}]\nAux: [b: {t}]\nDec: [b: {}]\n\nRound 1, Step 0\nEst: [b: {t}]\nBin: [b: {}]\nAux: [b: {}]\nDec: [b: {}]"]
d_14 [label="d_14\nRound 0, Step 0\nDec: [a: {t}, b: {}, c: {t}, d: {t}]\n\nRound 0, Step 1\nDec: [b: {}]\n\nRound 0, Step 2\nDec: [b: {}]\n\nRound 1, Step 0\nEst: [b: {t}]\nBin: [b: {t}]\nAux: [b: {t}]\nDec: [b: {t}]"]

a_0_1 -> b_1 [color=purple]
b_1 -> a_1 [color=green3]
c_0_1 -> d_1 [color=purple]
d_1 -> b_2 [color=purple]
b_1 -> c_2 [color=purple]
c_2 -> b_3 [color=green3]
a_13 -> c_5 [color=purple]
c_5 -> a_14 [color=green3]
d_1 -> c_1 [color=green3]
b_2 -> d_2 [color=green3]
a_1 -> d_3 [color=purple]
d_3 -> a_3 [color=green3]
b_3 -> a_2 [color=purple]
a_2 -> b_4 [color=green3]
c_3 -> a_4 [color=purple]
a_4 -> c_8 [color=green3]
c_3 -> d_4 [color=purple]
b_3 -> c_3 [color=purple]
d_4 -> c_4 [color=green3]
b_4 -> d_6 [color=purple]
d_6 -> b_5 [color=green3]
d_5 -> a_6 [color=purple]
a_6 -> d_7 [color=green3]
a_5 -> b_6 [color=purple]
b_6 -> a_8 [color=green3]
b_5 -> a_7 [color=purple]
a_7 -> b_7 [color=green3]
d_7 -> b_8 [color=purple]
b_8 -> d_8 [color=green3]
d_7 -> a_9 [color=purple]
a_9 -> d_10 [color=green3]
b_8 -> d_9 [color=purple]
d_9 -> b_9 [color=green3]
a_8 -> b_8 [color=purple]
b_8 -> a_12 [color=green3]
b_7 -> a_11 [color=purple]
a_11 -> b_10 [color=green3]
d_8 -> a_10 [color=purple]
a_10 -> d_11 [color=green3]
a_14 -> d_12 [color=purple]
d_12 -> a_15 [color=green3]
a_15 -> b_11 [color=purple]
b_11 -> a_16 [color=green3]
c_5 -> d_13 [color=purple]
d_13 -> c_6 [color=green3]
d_13 -> b_12 [color=purple]
b_12 -> d_14 [color=green3]
b_11 -> c_7 [color=purple]
c_7 -> b_13 [color=green3]
}
